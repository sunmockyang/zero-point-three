function NavigationBar(t){this.container=t.container,this.firstLevel=t.firstLevel,this.secondLevel=t.secondLevel,this.firstLevelItems=t.firstLevelItems,this.secondLevelItems=t.secondLevelItems,this.stories_container=t.storyItems,this.analysis_container=t.analysisItems,this.timeoutID=0,this.lastShownSecondLevel="",this.container.onmousemove=this.onMouseMove.bind(this),isIOS()&&(this.hideTimeout=1e4),this.activeButton=null,this.setupFirstLevelButtons(),this.setupLinkButtons(),t.title.onclick=function(){animateScroll(document.documentElement,3e3,"easeInOutQuint",0,"top")}}NavigationBar.prototype.hideTimeout=5e3,NavigationBar.prototype.setupFirstLevelButtons=function(){for(var t=0;t<this.firstLevelItems.length;t++){var e=this.firstLevelItems[t].dataset.secondLayer;e&&(this.firstLevelItems[t].onclick=this.showSecondLevel.bind(this,e,this.firstLevelItems[t]))}},NavigationBar.prototype.setupLinkButtons=function(){function t(t){var i=t.dataset.linkId;i&&(t.onclick=e.onLinkClicked.bind(e,i))}for(var e=this,i=0;i<this.firstLevelItems.length;i++)t(this.firstLevelItems[i]);for(var i=0;i<this.secondLevelItems.length;i++)t(this.secondLevelItems[i])},NavigationBar.prototype.isSecondLevelShowing=function(){return this.secondLevel.classList.contains("show")},NavigationBar.prototype.onLinkClicked=function(t){this.hideSecondLevel(),"index-box"==t?ScrollCenteredElem(document.getElementById(t)):ScrollToSection(t)},NavigationBar.prototype.showSecondLevel=function(t,e){return e!=this.activeButton&&(this.activeButton&&this.activeButton.classList.remove("active"),e.classList.add("active"),this.activeButton=e),this.isSecondLevelShowing()&&this.lastShownSecondLevel!=t?(this.hideSecondLevel(),void setTimeout(this.showSecondLevel.bind(this,t,e),200)):("stories_container"==t?(this.analysis_container.classList.add("hidden"),this.analysis_container.classList.add("no-size"),this.stories_container.classList.remove("hidden"),this.stories_container.classList.remove("no-size")):"analysis_container"==t&&(this.stories_container.classList.add("hidden"),this.stories_container.classList.add("no-size"),this.analysis_container.classList.remove("hidden"),this.analysis_container.classList.remove("no-size")),this.lastShownSecondLevel=t,this.onMouseMove(),void show(this.secondLevel))},NavigationBar.prototype.hideSecondLevel=function(){this.stories_container.classList.add("hidden"),this.stories_container.classList.add("no-size"),this.analysis_container.classList.add("hidden"),this.analysis_container.classList.add("no-size"),this.activeButton&&(this.activeButton.classList.remove("active"),this.activeButton=null),this.lastShownSecondLevel="",unshow(this.secondLevel)},NavigationBar.prototype.onMouseMove=function(){this.onMouseOver(),this.onMouseOut()},NavigationBar.prototype.onMouseOver=function(){0!=this.timeoutID&&(clearTimeout(this.timeoutID),this.timeoutID=0)},NavigationBar.prototype.onMouseOut=function(){this.timeoutID=setTimeout(this.hideSecondLevel.bind(this),this.hideTimeout)},NavigationBar.prototype.showContainer=function(){this.container.classList.add("show")},NavigationBar.prototype.hideContainer=function(){this.container.classList.remove("show")};